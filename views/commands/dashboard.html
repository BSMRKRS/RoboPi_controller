<html>
  <head></head>
  <body>
    <h1>You made it!</h1>
    <h1 id="clickable-title" onclick="swap_title();">!!!Click Here To Begin!!!</h1>
    <p>You can drive forward with 'w' and backward with 's'.</p>
    <p>Add more commands in controllers/commands!</p>
  </body>
</html>

{{
response.files.insert(0,URL('static','js/jquery.js'))
response.include_meta()
response.include_files()
}}
<script type="text/javascript"><!--
    // These variables are used by the web2py_ajax_init
        // function in web2py.js (which is loaded below).
    var w2p_ajax_confirm_message =
        "{{=T('Are you sure you want to delete this object?')}}";
    var w2p_ajax_date_format = "{{=T('%Y-%m-%d')}}";
    var w2p_ajax_datetime_format = "{{=T('%Y-%m-%d %H:%M:%S')}}";
//--></script>
<script src="{{=URL('static','js/web2py.js')}}"
        type="text/javascript"></script>
<script type="text/javascript">
  swap_title = function(){$('#clickable-title').text('Ready!');}
  establish_control_keys = function(){
    console.log("loaded establish_control_keys");
    $(document).one('keydown',function(e) {
      console.log(e.which,"go");
      ajax_direction("go",e.which);
    });
    $(document).one('keyup',function(e) {
      console.log(e.which,"stop");
      ajax_direction("stop",e.which);
      establish_control_keys();
    });
  }

  ajax_direction = function(command, key){
    jQuery.ajax({
      url: '{{=forward}}',
      data: {key: key, command: command},
      method: 'get'
    });
  }

  $(document).ready(establish_control_keys());
</script>
